(function(){"use strict";var r={1834:function(r,t,e){var i=e(9242),n=e(3396);function a(r,t,e,i,a,o){const h=(0,n.up)("HelloWorld");return(0,n.wg)(),(0,n.j4)(h,{msg:"Welcome to Your Vue.js App"})}var o=e(7139);const h=r=>((0,n.dD)("data-v-75950d6a"),r=r(),(0,n.Cn)(),r),c={class:"hello"},s={class:"left-warpper"},l={class:"next-warpper"},p=h((()=>(0,n._)("br",null,null,-1))),u={class:"score-wrapper"},g={class:"main-warpper"},f=h((()=>(0,n._)("br",null,null,-1))),d={class:"button-warpper"},v=h((()=>(0,n._)("br",null,null,-1))),G=h((()=>(0,n._)("br",null,null,-1))),b={key:0,class:"game-over"},w=h((()=>(0,n._)("div",null,[(0,n.Uk)(" Game"),(0,n._)("br"),(0,n.Uk)(" Over ")],-1)));function m(r,t,e,i,a,h){return(0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",s,[(0,n._)("div",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.nextView,((r,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"unit-row"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r,((r,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"unit-col",style:(0,o.j5)({background:r.bgcolor})},null,4)))),128)),p])))),128))]),(0,n._)("div",u," 分数 "+(0,o.zw)(a.score)+" ",1)]),(0,n._)("div",g,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.backgroundView,((r,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"unit-row"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r,((r,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"unit-col",style:(0,o.j5)({background:r.bgcolor})},null,4)))),128)),f])))),128))]),(0,n._)("div",d,[(0,n._)("button",{onClick:t[0]||(t[0]=r=>h.moveCircle())},"旋转"),v,(0,n._)("button",{onClick:t[1]||(t[1]=r=>h.moveLeft())},"左"),(0,n._)("button",{onClick:t[2]||(t[2]=r=>h.moveRight())},"右"),G,(0,n._)("button",{onClick:t[3]||(t[3]=r=>h.moveDown())},"下")]),a.overView?((0,n.wg)(),(0,n.iD)("div",b,[w,(0,n._)("button",{onClick:t[4]||(t[4]=r=>h.init())},"重新开始")])):(0,n.kq)("",!0)])}e(541);var k={name:"HelloWorld",data(){return{currentGraph:{graph:[],color:""},nextGraph:{graph:[],color:""},score:0,overView:!1,topLevel:0,nextView:Array(4).fill(0).map((()=>Array(4).fill(0).map((()=>({bgcolor:"#eee",fillBoolean:!1}))))),backgroundView:Array(20).fill(0).map((()=>Array(10).fill(0).map((()=>({bgcolor:"#eee",fillBoolean:!1}))))),graphList:[[[0,3],[0,4],[1,4],[1,5]],[[0,4],[0,5],[1,4],[1,3]],[[0,4],[0,5],[1,4],[1,5]],[[0,4],[1,4],[2,4],[3,4]],[[0,4],[1,4],[2,4],[2,5]],[[0,5],[1,5],[2,5],[2,4]],[[0,4],[1,3],[1,4],[1,5]]],colorList:["#f58f98","#faa755","#ffd400","#45b97c","#94d6da","#2585a6","#8552a1"]}},methods:{init(){this.overView=!1,this.nextGraph=this.randomGraph(),this.loopInit()},loopInit(){this.currentGraph={...this.nextGraph},this.nextGraph=this.randomGraph(),this.positionJudging(this.currentGraph.graph)?(this.creatGraph(this.currentGraph),this.dropGraph()):this.overView=!0,this.nextWarpper()},moveLeft(){this.clearGraph(this.currentGraph.graph);let r=this.currentGraph.graph.map((r=>[r[0],r[1]-1]));this.positionJudging(r)?(this.currentGraph.graph=r.slice(0),this.creatGraph(this.currentGraph)):this.creatGraph(this.currentGraph)},moveRight(){this.clearGraph(this.currentGraph.graph);let r=this.currentGraph.graph.map((r=>[r[0],r[1]+1]));this.positionJudging(r)?(this.currentGraph.graph=r.slice(0),this.creatGraph(this.currentGraph)):this.creatGraph(this.currentGraph)},moveDown(){this.clearGraph(this.currentGraph.graph);let r=this.currentGraph.graph.map((r=>[r[0]+1,r[1]]));this.positionJudging(r)?(this.currentGraph.graph=r.slice(0),this.creatGraph(this.currentGraph)):this.creatGraph(this.currentGraph)},gameOver(){return this.backgroundView[0].every((r=>"#eee"===r.bgcolor))},fullRemove(){this.currentGraph.graph.forEach((r=>{let t=this.backgroundView[r[0]].every((r=>{let t="#eee"!==r.bgcolor;return t}));t&&(this.backgroundView[r[0]].every((r=>r.bgcolor="#fff")),this.backgroundView.splice(r[0],1),this.backgroundView.unshift(Array(10).fill(0).map((()=>({bgcolor:"#eee",fillBoolean:!1})))),this.score+=10)}))},moveCircle(){this.clearGraph(this.currentGraph.graph);let r=this.currentGraph.graph,t=r.map((t=>{let e=r[1][1]+r[1][0]-t[0],i=r[1][0]-r[1][1]+t[1];return[i,e]}));this.positionJudging(t)?(this.currentGraph.graph=t.slice(0),this.creatGraph(this.currentGraph)):this.creatGraph(this.currentGraph)},creatGraph(r){r.graph.forEach((t=>{this.backgroundView[t[0]][t[1]].bgcolor=r.color}))},clearGraph(r){r.forEach((r=>{this.backgroundView[r[0]][r[1]].bgcolor="#eee"}))},randomGraph(){let r={graph:this.graphList[parseInt(7*Math.random())],color:this.colorList[parseInt(7*Math.random())]};return r},nextWarpper(){this.currentGraph.graph.forEach((r=>{this.nextView[r[0]][r[1]-3].bgcolor="#eee"})),this.nextGraph.graph.forEach((r=>{this.nextView[r[0]][r[1]-3].bgcolor=this.nextGraph.color}))},positionJudging(r){let t=r.every((r=>{let t=r[0]>=0&&r[0]<=19&&r[1]>=0&&r[1]<=9;if(!t)return!1;let e="#eee"===this.backgroundView[r[0]][r[1]].bgcolor;return!(!t||!e)}));return t},dropGraph(){const r=setInterval((()=>{let t=this.currentGraph.graph.map((r=>[r[0]+1,r[1]]));this.clearGraph(this.currentGraph.graph),this.positionJudging(t)?(this.currentGraph.graph=t.slice(0),this.creatGraph(this.currentGraph)):(this.creatGraph(this.currentGraph),clearInterval(r),this.fullRemove(),this.loopInit())}),1e3)}},mounted(){this.init()}},y=e(89);const _=(0,y.Z)(k,[["render",m],["__scopeId","data-v-75950d6a"]]);var V=_,x={name:"App",components:{HelloWorld:V}};const D=(0,y.Z)(x,[["render",a]]);var O=D;(0,i.ri)(O).mount("#app")}},t={};function e(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return r[i](a,a.exports,e),a.exports}e.m=r,function(){var r=[];e.O=function(t,i,n,a){if(!i){var o=1/0;for(l=0;l<r.length;l++){i=r[l][0],n=r[l][1],a=r[l][2];for(var h=!0,c=0;c<i.length;c++)(!1&a||o>=a)&&Object.keys(e.O).every((function(r){return e.O[r](i[c])}))?i.splice(c--,1):(h=!1,a<o&&(o=a));if(h){r.splice(l--,1);var s=n();void 0!==s&&(t=s)}}return t}a=a||0;for(var l=r.length;l>0&&r[l-1][2]>a;l--)r[l]=r[l-1];r[l]=[i,n,a]}}(),function(){e.n=function(r){var t=r&&r.__esModule?function(){return r["default"]}:function(){return r};return e.d(t,{a:t}),t}}(),function(){e.d=function(r,t){for(var i in t)e.o(t,i)&&!e.o(r,i)&&Object.defineProperty(r,i,{enumerable:!0,get:t[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"===typeof window)return window}}()}(),function(){e.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)}}(),function(){var r={143:0};e.O.j=function(t){return 0===r[t]};var t=function(t,i){var n,a,o=i[0],h=i[1],c=i[2],s=0;if(o.some((function(t){return 0!==r[t]}))){for(n in h)e.o(h,n)&&(e.m[n]=h[n]);if(c)var l=c(e)}for(t&&t(i);s<o.length;s++)a=o[s],e.o(r,a)&&r[a]&&r[a][0](),r[a]=0;return e.O(l)},i=self["webpackChunktetris_test"]=self["webpackChunktetris_test"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=e.O(void 0,[998],(function(){return e(1834)}));i=e.O(i)})();
//# sourceMappingURL=app.65c358bc.js.map